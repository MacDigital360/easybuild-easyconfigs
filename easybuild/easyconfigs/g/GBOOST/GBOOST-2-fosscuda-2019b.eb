# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'MakeCp'

name = 'GBOOST'
version = '2'

homepage = "http://bioinformatics.ust.hk/BOOST.html#GBOOST%202.0"
description = """GBOOST 2.0 is a GPU implementation of advanced BOOST method (with covariates adjustment) based on
 the CUDA technology by Nvidia."""

toolchain = {'name': 'fosscuda', 'version': '2019b'}

source_urls = ['http://bioinformatics.ust.hk']
sources = ['%(name)s%(version)s.zip']
patches = [('%(name)s-%(version)s_fixes.patch', 1)]
checksums = [
    '6f5fa03593031b6c122d34d1a1baa25dcce4f5273c93a0bb42d3dcde7137ac9f',  # GBOOST2.zip
    'e10a49b23f8d78a7174d10a6af09d4faf8051eada415b5c7ff349023e00d8fb7',  # GBOOST-2_fixes.patch
]

dependencies = []

start_dir = 'GBOOST2/source code'

files_to_copy = [(['%(name)s%(version)s'], 'bin')]

sanity_check_paths = {
    'files': ['bin/%(name)s%(version)s'],
    'dirs': [],
}

sanity_check_commands = [
    'cd "%(builddir)s/%(name)s%(version)s/%(name)s%(version)s/executable file and sample data" && '
    '%(name)s%(version)s -n 1 -i filenamelist.txt -tt 10 -o out && '
    'head outInteractionResult.txt'
]

moduleclass = 'tools'
