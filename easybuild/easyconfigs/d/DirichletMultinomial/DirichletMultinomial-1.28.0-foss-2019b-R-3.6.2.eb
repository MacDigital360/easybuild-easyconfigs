# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'Bundle'

name = 'DirichletMultinomial'
version = '1.28.0'
versionsuffix = '-R-%(rver)s'

homepage = "https://bioconductor.org/packages/DirichletMultinomial/"
description = """Dirichlet-multinomial mixture models can be used to describe variability in microbial metagenomic
 data. This package is an interface to code originally made available by Holmes, Harris, and Quince, 2012, PLoS ONE
 7(2): 1-15, as discussed further in the man page for this package, ?DirichletMultinomial."""

toolchain = {'name': 'foss', 'version': '2019b'}

dependencies = [
    ('R', '3.6.2'),
    ('R-bundle-Bioconductor', '3.10', versionsuffix),
]

exts_defaultclass = 'RPackage'
exts_filter = ("R -q --no-save", "library(%(ext_name)s)")
exts_default_options = {
    'source_urls': [
        'https://bioconductor.org/packages/3.10/bioc/src/contrib/',
        'https://bioconductor.org/packages/3.10/bioc/src/contrib/Archive/%(name)s',
        'https://bioconductor.org/packages/3.10/data/annotation/src/contrib/',
        'https://bioconductor.org/packages/3.10/data/experiment/src/contrib/',
        'https://cran.r-project.org/src/contrib/Archive/%(name)s',  # package archive
        'https://cran.r-project.org/src/contrib/',  # current version of packages
        'https://cran.freestatistics.org/src/contrib',  # mirror alternative for current packages
    ],
    'source_tmpl': '%(name)s_%(version)s.tar.gz',
}


# Order is important!
exts_list = [
    (name, version, {
        'checksums': ['1ae44436600205c4074ff6e78be7cf3639efab45ba50e6b0bf5eb8392bb3d54e'],
    }),
]

modextrapaths = {'R_LIBS': ''}

sanity_check_paths = {
    'files': ['DirichletMultinomial/R/DirichletMultinomial'],
    'dirs': [],
}

moduleclass = 'bio'
